<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Farmer Dashboard | Smart Farming</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link href="styles.css" rel="stylesheet" />
  </head>
  <body class="sf-body">
    <header class="sf-topbar">
      <div class="sf-brand">
        <span class="sf-logo-circle">SF</span>
        <div>
          <div class="sf-brand-title">Smart Farming</div>
          <div class="sf-brand-sub">Farmer Dashboard</div>
        </div>
      </div>
      <nav class="sf-nav">
        <a href="index.html" class="sf-nav-link">Home</a>
        <a href="farmer-dashboard.html" class="sf-nav-link sf-nav-link--active"
          >Dashboard</a
        >
        <a href="admin-login.html" class="sf-nav-link">Admin</a>

        <!-- ‚≠ê NEW: Logout button in nav -->
        <button
          onclick="logoutFarmer()"
          class="sf-btn sf-btn--outline"
          style="margin-left: 10px"
        >
          Logout
        </button>
      </nav>
    </header>

    <main class="sf-main sf-main--dashboard">
      <section class="sf-dashboard-header">
        <div>
          <h1 class="sf-dashboard-title">Welcome Farmer</h1>
          <p class="sf-dashboard-sub">
            From here, you can access all features, including crop selection,
            fertilizer planning, leaf disease detection, and prevention tips.
          </p>

          <!-- Logged in user -->
          <div
            id="loggedUser"
            class="sf-small"
            style="
              margin-top: 6px;
              color: var(--sf-green-dark);
              font-weight: 600;
            "
          ></div>
        </div>

        <div class="sf-pill-row">
          <span class="sf-pill sf-pill--soft">Demo Mode (Local Storage)</span>
          <span class="sf-pill">Smart Advisory Active</span>
        </div>
      </section>

      <section class="sf-dashboard-grid">
        <!-- Crop Recommendation -->
        <article class="sf-card">
          <h2 class="sf-card-heading">üåæ Crop Selection</h2>
          <p class="sf-card-text">
            After entering the soil and weather details, the system will
            recommend the most suitable crops.
          </p>

          <label class="sf-label">Soil Type</label>
          <select id="soilType" class="sf-input">
            <option value="">Select Soil Type</option>
            <option value="black">Black Soil</option>
            <option value="loamy">Loamy Soil</option>
            <option value="clay">Clay Soil</option>
            <option value="sandy">Sandy Soil</option>
          </select>

          <label class="sf-label">Soil pH</label>
          <input
            type="number"
            id="ph"
            class="sf-input"
            placeholder="e.g. 6.5"
          />

          <label class="sf-label">Temperature (¬∞C)</label>
          <input
            type="number"
            id="temp"
            class="sf-input"
            placeholder="e.g. 28"
          />

          <label class="sf-label">Rainfall (mm)</label>
          <input
            type="number"
            id="rainfall"
            class="sf-input"
            placeholder="e.g. 120"
          />

          <button
            class="sf-btn sf-btn--primary sf-btn--block"
            onclick="recommendCrop()"
          >
            Get Crop Recommendation
          </button>

          <div id="cropResult" class="sf-result-box"></div>
        </article>

        <!-- Fertilizer Advice -->
        <article class="sf-card">
          <h2 class="sf-card-heading">üß™ Fertilizer Advice</h2>
          <p class="sf-card-text">
            The fertilizer plan will be recommended based on the crop type and
            NPK values.
          </p>

          <label class="sf-label">Crop Type</label>
          <select id="cropType" class="sf-input">
            <option value="">Select Crop</option>
            <option value="rice">Rice</option>
            <option value="wheat">Wheat</option>
            <option value="maize">Maize</option>
            <option value="soybean">Soybean</option>
            <option value="cotton">Cotton</option>
          </select>

          <label class="sf-label">Nitrogen (N)</label>
          <input
            type="number"
            id="nitrogen"
            class="sf-input"
            placeholder="e.g. 80"
          />

          <label class="sf-label">Phosphorus (P)</label>
          <input
            type="number"
            id="phosphorus"
            class="sf-input"
            placeholder="e.g. 40"
          />

          <label class="sf-label">Potassium (K)</label>
          <input
            type="number"
            id="potassium"
            class="sf-input"
            placeholder="e.g. 30"
          />

          <button
            class="sf-btn sf-btn--primary sf-btn--block"
            onclick="recommendFertilizer()"
          >
            Suggest Fertilizer Plan
          </button>

          <div id="fertilizerResult" class="sf-result-box"></div>
        </article>

        <!-- Disease Detection -->
        <article class="sf-card sf-card--wide">
          <div class="sf-card-header-row">
            <div>
              <h2 class="sf-card-heading">üçÉ Disease Detection</h2>
              <p class="sf-card-text">
                Upload a leaf image. The system first verifies whether the image
                actually contains a leaf, and then provides the detected disease
                information along with treatment advice.
              </p>
            </div>
            <button class="sf-btn sf-btn--outline" onclick="quickDemoDisease()">
              Demo Result
            </button>
          </div>

          <label class="sf-label">Upload Leaf Image</label>
          <input type="file" id="leafImage" class="sf-input" accept="image/*" />

          <button
            class="sf-btn sf-btn--primary sf-btn--block"
            onclick="detectDisease()"
          >
            Analyze Leaf & Get Advice
          </button>

          <div id="diseaseResult" class="sf-result-box"></div>
          <div id="treatmentAdvice" class="sf-result-box"></div>
          <div id="riskLevel" class="sf-result-box"></div>
          <div id="spreadPrediction" class="sf-result-box"></div>
        </article>

        <!-- Prevention Tips -->
        <article class="sf-card">
          <h2 class="sf-card-heading">üõ° Prevention & Field Health</h2>
          <p class="sf-card-text">
            Best-practice guidelines that lower disease risk and support overall
            field health.
          </p>

          <button
            class="sf-btn sf-btn--outline sf-btn--block"
            onclick="showTips()"
          >
            Show Prevention Tips
          </button>

          <div id="tipsResult" class="sf-result-box"></div>
        </article>
      </section>
    </main>

    <footer class="sf-footer">
      ¬© 2025 Smart Farming Advisory System ¬∑ Farmer Dashboard
    </footer>

    <script src="script.js"></script>
  </body>
</html>
